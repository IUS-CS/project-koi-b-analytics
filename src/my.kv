#this file is indentation sensitive!!!
#:import utils kivy.utils
#:import Factory kivy.factory.Factory


<Button>
#global button settings
    font_size: 24
    background_normal: ''#ensures colors are not muted
    background_color: utils.get_color_from_hex('#282C34')
    color: utils.get_color_from_hex('#BCCFF5')
    bold: True
    outline_color: utils.get_color_from_hex('#282C34')
    outline_width: 1
#global label settings



WindowManager:
    FirstWindow:
    SecondWindow:


# ,-----.--.  ,-,--.  ,--.--------.           ,-,--.    _,.----.                  ,----.     ,----.  .-._
#/` ` - /==/,-.'-  _\/==/,  -   , -\        ,-.'-  _\ .' .' -   \  .-.,.---.   ,-.--` , \ ,-.--` , \/==/ \  .-._
#`-'-. -|==/==/_ ,_.'\==\.-.  - ,-./       /==/_ ,_.'/==/  ,  ,-' /==/  `   \ |==|-  _.-`|==|-  _.-`|==|, \/ /, /
#    | `|==\==\  \    `--`\==\- \          \==\  \   |==|-   |  .|==|-, .=., ||==|   `.-.|==|   `.-.|==|-  \|  |
#    | -|==|\==\ -\        \==\_ \          \==\ -\  |==|_   `-' \==|   '='  /==/_ ,    /==/_ ,    /|==| ,  | -|
#    | `|==|_\==\ ,\       |==|- |          _\==\ ,\ |==|   _  , |==|- ,   .'|==|    .-'|==|    .-' |==| -   _ |
#  .-','|==/==/\/ _ |      |==|, |         /==/\/ _ |\==\.       /==|_  . ,'.|==|_  ,`-.|==|_  ,`-._|==|  /\ , |
# /     \==\==\ - , /      /==/ -/         \==\ - , / `-.`.___.-'/==/  /\ ,  )==/ ,     /==/ ,     //==/, | |- |
# `-----`---`--`---'       `--`--`          `--`---'             `--`-`--`--'`--`-----```--`-----`` `--`./  `--`

<FirstWindow>:#this window will show the users feed. This includes todays games and ppg leaders
    name: "first"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "KOI-B FEED"
            font_size: 32

        Button:#this button will take the user to the next screen
            text: "TO ROSTER"
            font_size: 32
            on_release:
                app.root.current = "second"
                root.manager.transition.direction = "left"#sets scroll direction for screen transition

# ,-----,--,   .-._                              ,-,--.    _,.----.                  ,----.     ,----.  .-._
# | '-  -\==\ /==/ \  .-._  _,..---._          ,-.'-  _\ .' .' -   \  .-.,.---.   ,-.--` , \ ,-.--` , \/==/ \  .-._
# \,--, '/==/ |==|, \/ /, /==/,   -  \        /==/_ ,_.'/==/  ,  ,-' /==/  `   \ |==|-  _.-`|==|-  _.-`|==|, \/ /, /
#    /  /==/  |==|-  \|  ||==|   _   _\       \==\  \   |==|-   |  .|==|-, .=., ||==|   `.-.|==|   `.-.|==|-  \|  |
#   / -/==/   |==| ,  | -||==|  .=.   |        \==\ -\  |==|_   `-' \==|   '='  /==/_ ,    /==/_ ,    /|==| ,  | -|
#  / -/==/    |==| -   _ ||==|,|   | -|        _\==\ ,\ |==|   _  , |==|- ,   .'|==|    .-'|==|    .-' |==| -   _ |
# / `\==\_,--,|==|  /\ , ||==|  '='   /       /==/\/ _ |\==\.       /==|_  . ,'.|==|_  ,`-.|==|_  ,`-._|==|  /\ , |
#/` -   ,/==/ /==/, | |- ||==|-,   _`/        \==\ - , / `-.`.___.-'/==/  /\ ,  )==/ ,     /==/ ,     //==/, | |- |
#`------`--`  `--`./  `--``-.`.____.'          `--`---'             `--`-`--`--'`--`-----```--`-----`` `--`./  `--`

#THIS POPUP DISPLAYS HELPFUL INFORMATION TO THE USER ON HOW TO ADD PLAYERS TO A ROSTER AND THEN ANALYZE THEM
<MyPopup@Popup>:
    auto_dismiss: True
    size_hint: 0.7, 0.4
    pos_hint: {"x":0.2, "top":1}
    title: "Adding Players to your roster:"
    Label:
        text: "Start by typing in the name of your desired NBA player.\nUpon clicking the SEARCH button you will see a basic stat-sheet\nof the searched player appear. If you have found what you are looking for\nbased on this search criteria then click the ADD TO ROSTER button. After \ndoing this you will see your player spots being added. Once you have a \nfull roster (though you can run without a full roster) click the ANALYZE \nbutton to see a comprehensive view of your rosters stats. Feel free to \nplay around with these stats (use histograms, scatter plots, and more to \ncomb through your roster data)!"


<SecondWindow>:
    name: "second"
    #STACKED BOXES BY DEFAULT FOR SCREEN TWO
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

#------->THIS GRID LAYOUR REPRESENTS THE FIRST ROW IN THE WINDOW
        GridLayout:
            cols: 2
            row_force_default: True
            row_default_height: 40
            size_hint_y: None
            #height: 50
            Label:#INSIDE GRID
                size_hint_x: 0.9
                text: "MY ROSTER"
                font_size: 32

            Button:#INSIDE GRID
                size_hint_x: 0.1
                text: 'HELP'
                background_color: utils.get_color_from_hex('#6B6E70')
                on_release: Factory.MyPopup().open()
##ANOTHER GRID FOR ROW 2
        GridLayout:
            cols: 3
            row_force_default: True
            row_default_height: 40
            size_hint_y: None
            #height: 40
            TextInput:#INSIDE GRID
                id: user_input
                multiline: False
                size_hint_x: 0.7
                text: "Enter players name here"
                font_size: 24

            Button:
                size_hint_x: 0.15
                id: clear_btn
                background_color: utils.get_color_from_hex('#6B6E70')
                text: "CLEAR"
                #logic
                on_press: root.clear_input()

            Button:
                size_hint_x: 0.15
                id: search_btn
                background_color: utils.get_color_from_hex('#6B6E70')
                text: "SEARCH"

##############################################
#ON SEARCH DISPLAY KEY STATS HERE FOR PLAYERS
#name | team | PPG | FG% | 3P % | ADD TO ROSTER BTN
        GridLayout:
            cols: 6
            row_force_default: True
            row_default_height: 80
            size_hint_y: None

            Label:
                id: stat_name
                size_hint_x: 0.17
                text: "some sql here"
            Label:
                id: stat_team
                size_hint_x: 0.17
                text: "some sql here"
            Label:
                id: stat_ppg
                size_hint_x: 0.17
                text: "some sql here"
            Label:
                id: stat_fg
                size_hint_x: 0.17
                text: "some sql here"
            Label:
                id: stat_3p
                size_hint_x: 0.17
                text: "some sql here"

            Button:
                id: add_to_roster
                size_hint_x: 0.14
                background_color: utils.get_color_from_hex('#6B6E70')
                text: "ADD TO ROSTER"
                on_press: root.add_to_roster()
#############################################
        GridLayout:
            cols: 7
            row_force_default: True
            row_default_height: 80
            size_hint_y: None

            Label:
                id: player1
                size_hint_x: 0.14
                text: "PLAYER 1"
            Label:
                id: player2
                size_hint_x: 0.14
                text: "PLAYER 2"
            Label:
                id: player3
                size_hint_x: 0.14
                text: "PLAYER 3"
            Label:
                id: player4
                size_hint_x: 0.14
                text: "PLAYER 4"
            Label:
                id: player5
                size_hint_x: 0.14
                text: "PLAYER 5"

            Button:
                id: clear_roster
                size_hint_x: 0.14
                background_color: utils.get_color_from_hex('#6B6E70')
                text: "CLEAR"
                #logic
                on_press: root.clear_roster()

            Button:
                id: analyze_btn
                size_hint_x: 0.14
                background_color: utils.get_color_from_hex('#61892F')
                text: "ANALYZE"

#THIS BUTTON TAKES USER TO PREVIOUS SCREEN
        Button:#INSIDE BOX
            text: "BACK TO FEED"
            font_size: 32
            on_release:
                app.root.current = "first"
                root.manager.transition.direction = "right"#sets scroll direction for screen transition
